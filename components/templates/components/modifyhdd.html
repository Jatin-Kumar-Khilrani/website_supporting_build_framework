{% extends 'components/base.html' %}
{% block head %}
<!--
 function addpolicy() {

            //var firmwareName=$('#firmwareName').val();
            //var platform = $('.selectm').val();

            $.ajax({
            url: '/components/addcomponent/',
            type: 'post',
            data: {
                policy_table :JSON.stringify($('#tblAppendGrid').appendGrid('getAllValue')),
                //firmwareName: firmwareName,
                //platform: JSON.stringify(platform),
                csrfmiddlewaretoken: '{{ csrf_token }}'
            },
            success: function (response) {
                alert(response.msg);
                //window.location = '/components/listfirmware/'
            },
            error: function (xhr, status, error) {
                alert(xhr.responseText);
            }
            });
        }
-->
 <script type="text/javascript">
        $(document).ready(function(){



            $(".select").select2();

            $(".selectm").select2({closeOnSelect: true, tags: true});

            $(".selectperipheral").select2({closeOnSelect: true, tags: true});
            $(".selectyn").select2({closeOnSelect: true, tags: false});
            $(".selectpci_attribute").select2({closeOnSelect: true, tags: true, placeholder:"Type the name"});

            $(".selectfanpolicy").select2({closeOnSelect: true, tags: true, placeholder:"Type the name"});

            $(".selectyn_mtcp").select2({closeOnSelect: true, tags: false, placeholder:"Type the name"});




            $('#addComponent').bootstrapValidator({
                feedbackIcons: {
                    valid: 'glyphicon glyphicon-ok',
                    invalid: 'glyphicon glyphicon-remove',
                    validating: 'glyphicon glyphicon-refresh'
                },
                fields: {
                    vendorId: {
                        validators: {
                            row: '.col-xs-2',
                            notEmpty: {
                                message: 'The Vendor Id is required'
                            },
                            stringLength: {
                                min: 4,
                                max: 4,
                                message: 'The Vendor Id must be 4 characters long'
                            },
                            regexp: {
                                regexp: /^[a-zA-Z0-9]+$/,
                                message: 'The Vendor Id can only be alphabetical or numeric'
                            }
                        }
                    },
                    deviceId: {
                        validators: {
                            row: '.col-xs-2',
                            notEmpty: {
                                message: 'The Device Id is required'
                            },
                            stringLength: {
                                min: 4,
                                max: 4,
                                message: 'The Device Id must be 4 characters long'
                            },
                            regexp: {
                                regexp: /^[a-zA-Z0-9]+$/,
                                message: 'The Device Id can only be alphabetical or numeric'
                            }
                        }
                    },
                    subVendorId: {
                        row: '.col-xs-2',
                        validators: {
                            notEmpty: {
                                message: 'The Sub-Vendor Id is required'
                            },
                            stringLength: {
                                min: 4,
                                max: 4,
                                message: 'The Sub-Vendor Id must be 4 characters long'
                            },
                            regexp: {
                                regexp: /^[a-zA-Z0-9]+$/,
                                message: 'The Sub-Vendor Id can only be alphabetical or numeric'
                            }
                        }
                    },
                    subDeviceId: {
                        row: '.col-xs-2',
                        validators: {
                            notEmpty: {
                                message: 'The Sub-Device Id is required'
                            },
                            stringLength: {
                                min: 4,
                                max: 4,
                                message: 'The Sub-Device Id must be 4 characters long'
                            },
                            regexp: {
                                regexp: /^[a-zA-Z0-9]+$/,
                                message: 'The Sub-Device Id can only be alphabetical or numeric'
                            }
                        }
                    },
                    uniqueName: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The Brand String is required'
                            }
                        }
                    },
                    pmin: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The PMin is required'
                            },
                            regexp: {
                                regexp: /^[a-zA-Z0-9-_]+$/,
                                message: 'The PMin can only be alphabetical or numeric'
                            }
                        }
                    },
                    pmax: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The Pmax is required'
                            },
                            regexp: {
                                regexp: /^[a-zA-Z0-9-_]+$/,
                                message: 'The Pmax can only be alphabetical or numeric'
                            }
                        }
                    },
                    pid: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The PID is required'
                            },
                            regexp: {
                                regexp: /^[a-zA-Z0-9-_]+$/,
                                message: 'The PID can only be alphabetical or numeric'
                            }
                        }
                    },
                    vid: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The version id is required'
                            },
                            regexp: {
                                regexp: /^[a-zA-Z0-9-_]+$/,
                                message: 'The version id can only be alphabetical or numeric'
                            }
                        }
                    },
                    sku: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The SKU is required'
                            },
                            regexp: {
                                regexp: /^[a-zA-Z0-9-_]+$/,
                                message: 'The SKU can only be alphabetical or numeric'
                            }
                        }
                    },
                    oem_part_number: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The OEM Part Number is required'
                            },
                            regexp: {
                                regexp: /^[a-zA-Z0-9-_]+$/,
                                message: 'The OEM Part Number can only be alphabetical or numeric'
                            }
                        }
                    },
                    part_number: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The Part Number is required'
                            },
                        }
                    },
                    lff: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The Lff is required'
                            },
                        }
                    },
                    peripheral_type: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The Peripheral Type is required'
                            },
                            regexp: {
                                regexp: /^[a-zA-Z0-9-_]+$/,
                                message: 'The Peripheral Type can only be alphabetical or numeric'
                            }
                        }
                    },
                    no_of_temp_sensors: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The No. of Temp Sensors is required'
                            },
                            regexp: {
                                regexp: /^[a-zA-Z0-9-_]+$/,
                                message: 'The No. of Temp Sensors can only be alphabetical or numeric'
                            }
                        }
                    },
                    temp_sensor_i2cslaveaddr: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The Temp Sensor I2cSlaveAddr is required'
                            },
                            regexp: {
                                regexp: /^[a-zA-Z0-9-_]+$/,
                                message: 'The Temp Sensor I2cSlaveAddr can only be alphabetical or numeric'
                            }
                        }
                    },
                    fanpolicy: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The Fanpolicy is required'
                            },
                            regexp: {
                                regexp: /^[a-zA-Z0-9-_]+$/,
                                message: 'The Fanpolicy can only be alphabetical or numeric'
                            }
                        }
                    },
                    secure_firmware_support: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The Secure firmware support is required'
                            },
                            regexp: {
                                regexp: /^[a-zA-Z0-9-_]+$/,
                                message: 'The Secure firmware support can only be alphabetical or numeric'
                            }
                        }
                    },
                    card_threshold_offset: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The Card threshold offset is required'
                            },
                            regexp: {
                                regexp: /^[a-zA-Z0-9-_]+$/,
                                message: 'The Card threshold offset can only be alphabetical or numeric'
                            }
                        }
                    },
                    fru_major_type: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The Fru Major Type is required'
                            }
                        }
                    },
                    fru_minor_type: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The Fru Minor Type is required'
                            }
                        }
                    },
                    pci_attribute: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The PCI Attribute is required'
                            }
                        }
                    },
                    packageVersion: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The Package Version is required'
                            },
                        }
                    },
                    vendorString: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The Vendor is required'
                            },
                            regexp: {
                                regexp: /^[a-zA-Z0-9-_]+$/,
                                message: 'The Vendor can only be alphabetical or numeric'
                            }
                        }
                    },
                    fanpolicy_platform_config: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The Fanpolicy Platform Config is required'
                            },
                        }
                    },
                    card_threshold_offset_config: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The Card Threshold Offset Config is required'
                            },
                        }
                    },
                    description: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The description is required'
                            }

                        }
                    },
                    mctp_supported: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The mctp_supported is required'
                            }

                        }
                    },
                    mctp_interfaces_supported: {
                        row: '.col-xs-4',
                        validators: {
                            notEmpty: {
                                message: 'The mctp_interfaces_supported is required'
                            }
                        }
                    },
                    platform: {
                        row: '.col-xs-8',
                        validators: {
                            notEmpty: {
                                message: 'The platform is required'
                            },
                        }
                    }

                }
            });

        });
 </script>
{% endblock %}
{% block body_block %}
 
<div class="row">
 <div class="col-xs-5 block" style="font-size: 1.5em !important;">Modify HDD</div>
    {% comment %}style="float: left"{% endcomment %}
    <div class="col-xs-5 col-xs-push-2 block" ><a style="float: right; clear: both;" href="/components/hddindex/" ><span class="glyphicon glyphicon-arrow-left"></span> Back</a>
</div>
</div>
<hr>


<!-- <p1> This is the right place to edit </p1> -->
    <form id="modifyComponent" action="/components/modifyhdd/{{ component.pk }}/" method="post">
    {% csrf_token %}
      <div class="form-group row" style="width:95%;">
      <div class="from-group row" id="inputArea" style="width:95%;"></div>
	<!--<p2>here we will see the effect</p2> -->
    </div>
      <div class="form-group row">
      <!--<div class="col-xs-4">-->
        <!--<label for="uniqueName">Brand String</label>-->
        <!--<input class="form-control" placeholder="Brand String" name="uniqueName" type="text">-->
      <!--</div>-->
         <div class="col-xs-4">
        <label for="description">Description</label>
        <input class="form-control" value={{ component.description }} name="description" type="text">
      </div>
    </div>
     <div class="form-group row">
      <div class="col-xs-4">
        <label for="packageVersion">Package Version</label>
        <input class="form-control"  value={{ component.packageVersion }}  name="packageVersion" type="text">
      </div>

        <div class="col-xs-4">
        <label for="vendorString">Vendor</label>
        <input class="form-control" value={{ component.vendorString }} name="vendorString" type="text">
      </div>
         <!--<div class="col-xs-4">
         <label for="verifyApi">Verify</label>
         <input class="form-control" placeholder="Verify api" name="verifyApi" type="text">
      </div> -->
    </div>

    <div class="form-group row">

     <div class="col-xs-4">
       <label for="model">Model</label>
       <input class="form-control"  value={{ component.model }}  name="model" type="text">
     </div>

        <div class="col-xs-4">
          <label for="part_number">Part Number</label>
            {% if legacy == '1' %}
            <input class="form-control"  placeholder="Part Number"  name="part_number" type="text">
            {% else %}
            <input class="form-control"  value={{ component.part_number }}  name="part_number" type="text">
            {% endif %}
	    </div>


    </div>

    <div class="form-group row">
	<div class="col-xs-4">
          <label for="pid">PID</label>
          {% if legacy == '1' %}
            <input class="form-control"  placeholder="PID"  name="pid" type="text">
          {% else %}
          <input class="form-control"  value={{ component.pid }}  name="pid" type="text">
          {% endif %}
	</div>

	<div class="col-xs-4">
          <label for="vid">Version Id</label>
        {% if legacy == '1' %}
            <input class="form-control"  placeholder="Version Id"  name="vid" type="text">
        {% else %}
          <input class="form-control"  value={{ component.vid }}  name="vid" type="text">
        {% endif %}
	</div>
    </div>

    <div class="form-group row">
	<div class="col-xs-4">
          <label for="sku">SKU</label>
        {% if legacy == '1' %}
          <input class="form-control"  placeholder="SKU"  name="sku" type="text">
        {% else %}
          <input class="form-control"  value={{ component.sku }}  name="sku" type="text">
        {% endif %}
	</div>

	<div class="col-xs-4">
          <label for="oem_part_number">OEM Part Number</label>
        {% if legacy == '1' %}
          <input class="form-control"  placeholder="OEM Part Number"  name="oem_part_number" type="text">
        {% else %}
          <input class="form-control"  value={{ component.oem_part_number }}  name="oem_part_number" type="text">
        {% endif %}
	</div>

    </div>

    <div class="form-group row">

         <div class="col-xs-4">
           <label for="oem_name">OEM Name</label>
             {% if legacy == '1' %}
          <input class="form-control"  placeholder="OEM Name"  name="oem_name" type="text">
            {% else %}
           <input class="form-control"  value={{ component.oem_name }}  name="oem_name" type="text">
             {% endif %}
         </div>

        <div class="col-xs-4">
          <label for="lff">Lff</label>
             {% if legacy == '1' %}
          <input class="form-control"  placeholder="Lff"  name="lff" type="text">
            {% else %}
          <input class="form-control"  value={{ component.lff }}  name="lff" type="text">
            {% endif %}
	    </div>
    </div>

    <div class="form-group row">

     <div class="col-xs-4">
       <label for="pmin">PMin</label>
         {% if legacy == '1' %}
          <input class="form-control"  placeholder="PMin"  name="pmin" type="text">
            {% else %}
       <input class="form-control"  value={{ component.pmin }}  name="pmin" type="text">
         {% endif %}
     </div>

     <div class="col-xs-4">
       <label for="pmax">Pmax</label>
         {% if legacy == '1' %}
          <input class="form-control"  placeholder="Pmax"  name="pmax" type="text">
         {% else %}
       <input class="form-control"  value={{ component.pmax }}  name="pmax" type="text">
         {% endif %}
     </div>

    </div>
        <br/>



   <div class="form-group row">
         <div class="col-xs-8">
        <label for="platform">Platforms</label>
             <select class="selectm" multiple= "multiple" name="platform" style="width:672px;" >
                 {% for plat in allPlatforms %}
                    {%  if plat in component.platform.all %}
                        <option value="{{plat.platformName}}" selected="true">{{ plat.platformName }}</option>
                    {% else %}
                        <option value="{{plat.platformName}}">{{ plat.platformName }}</option>
                    {% endif %}
                {% endfor %}
             </select>
      </div>


    </div>

    <input type="submit" class="btn btn-default" value="Modify HDD"/>
    <!--<p><LABEL for="exists">Exists:</LABEL><input type="checkbox" placeholder="Exists" name="exists" checked></input></p> onclick="addpolicy()" -->
</form>

{% endblock %}





